#| echo: fenced
table(VL_Bihar$bamboo_tree, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$bamboo_tree))           #proportion
#| echo: fenced
table(VL_Bihar$banana_tree, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$banana_tree))           #proportion
#| echo: fenced
table(VL_Bihar$rice_field, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$rice_field))           #proportion
#| echo: fenced
table(VL_Bihar$permanent_water_body, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$permanent_water_body))           #proportion
#| echo: fenced
table(VL_Bihar$granaries_in_hh, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$granaries_in_hh))           #proportion
#| echo: fenced
table(VL_Bihar$owngoat, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$owngoat))           #proportion
#| echo: fenced
table(VL_Bihar$ownpoul, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$ownpoul))           #proportion
#| echo: fenced
table(VL_Bihar$ownbov, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$ownbov))           #proportion
#| echo: fenced
table(VL_Bihar$bednet, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$bednet))           #proportion
#| echo: fenced
table(VL_Bihar$asset_index, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$asset_index))           #proportion
#| echo: fenced
table(VL_Bihar$riskwall, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$riskwall))           #proportion
#| echo: fenced
table(VL_Bihar$earthfloor, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$earthfloor))           #proportion
#| echo: fenced
table(VL_Bihar$sc_caste, useNA = "always")     #frecuency
prop.table(table(VL_Bihar$sc_caste))           #proportion
#| echo: fenced
GLM1 <- glm(formula = case ~ factor(sex), family = binomial, data = VL_Bihar)
summary(GLM1)
exp(coef(GLM1))
exp(confint(GLM1))
#| echo: fenced
GLM2 <- glm(formula = case ~ age, family = binomial, data = VL_Bihar)
summary(GLM2)
exp(coef(GLM2))
exp(confint(GLM2))
#| echo: fenced
GLM2_1 <- glm(formula = case ~ groupage, family = binomial, data = VL_Bihar)
summary(GLM2_1)
exp(coef(GLM2_1))
exp(confint(GLM2_1))
#| echo: fenced
GLM3 <- glm(formula = case ~ factor(died), family = binomial, data = VL_Bihar)
summary(GLM3)
exp(coef(GLM3))
exp(confint(GLM3))
#| echo: fenced
GLM4 <- glm(formula = case ~ factor(neem_tree), family = binomial, data = VL_Bihar)
summary(GLM4)
exp(coef(GLM4))
exp(confint(GLM4))
#| echo: fenced
GLM5 <- glm(formula = case ~ factor(bamboo_tree), family = binomial, data = VL_Bihar)
summary(GLM5)
exp(coef(GLM5))
exp(confint(GLM5))
#| echo: fenced
GLM6 <- glm(formula = case ~ factor(banana_tree), family = binomial, data = VL_Bihar)
summary(GLM6)
exp(coef(GLM6))
exp(confint(GLM6))
#| echo: fenced
GLM7 <- glm(formula = case ~ factor(rice_field), family = binomial, data = VL_Bihar)
summary(GLM7)
exp(coef(GLM7))
exp(confint(GLM7))
#| echo: fenced
GLM8 <- glm(formula = case ~ factor(permanent_water_body), family = binomial, data = VL_Bihar)
summary(GLM8)
exp(coef(GLM8))
exp(confint(GLM8))
#| echo: fenced
GLM9 <- glm(formula = case ~ factor(granaries_in_hh), family = binomial, data = VL_Bihar)
summary(GLM9)
exp(coef(GLM9))
exp(confint(GLM9))
#| echo: fenced
GLM10 <- glm(formula = case ~ factor(owngoat), family = binomial, data = VL_Bihar)
summary(GLM10)
exp(coef(GLM10))
exp(confint(GLM10))
#| echo: fenced
GLM11 <- glm(formula = case ~ factor(ownpoul), family = binomial, data = VL_Bihar)
summary(GLM11)
exp(coef(GLM11))
exp(confint(GLM11))
#| echo: fenced
GLM12 <- glm(formula = case ~ factor(ownbov), family = binomial, data = VL_Bihar)
summary(GLM12)
exp(coef(GLM12))
exp(confint(GLM12))
#| echo: fenced
GLM13 <- glm(formula = case ~ factor(bednet), family = binomial, data = VL_Bihar)
summary(GLM13)
exp(coef(GLM13))
exp(confint(GLM13))
#| echo: fenced
GLM14 <- glm(formula = case ~ factor(asset_index), family = binomial, data = VL_Bihar)
summary(GLM14)
exp(coef(GLM14))
exp(confint(GLM14))
#| echo: fenced
GLM15 <- glm(formula = case ~ factor(riskwall), family = binomial, data = VL_Bihar)
summary(GLM15)
exp(coef(GLM15))
exp(confint(GLM15))
#| echo: fenced
GLM16 <- glm(formula = case ~ factor(earthfloor), family = binomial, data = VL_Bihar)
summary(GLM16)
exp(coef(GLM16))
exp(confint(GLM16))
#| echo: fenced
GLM17 <- glm(formula = case ~ factor(sc_caste), family = binomial, data = VL_Bihar)
summary(GLM17)
exp(coef(GLM17))
exp(confint(GLM17))
#| echo: fenced
ML1 <- glm(factor(case) ~ factor(bednet), family=binomial, data=VL_Bihar)
summary(ML1)
exp(coef(ML1))
exp(confint(ML1))
#| echo: fenced
ML2 <- glm(factor(case) ~ factor(bednet) + factor(sex), family=binomial, data=VL_Bihar)
exp(coef(ML2))
exp(confint(ML2))
#| echo: fenced
ML3 <- glm(factor(case) ~ factor(bednet) + age, family=binomial, data=VL_Bihar)
exp(coef(ML3))
exp(confint(ML3))
#| echo: fenced
ML3_2 <- glm(factor(case) ~ factor(bednet) + groupage, family=binomial, data=VL_Bihar)
exp(coef(ML3_2))
exp(confint(ML3_2))
#| echo: fenced
ML4 <- glm(factor(case) ~ factor(bednet) + factor(neem_tree), family=binomial, data=VL_Bihar)
exp(coef(ML4))
exp(confint(ML4))
#| echo: fenced
ML5 <- glm(factor(case) ~ factor(bednet) + factor(bamboo_tree), family=binomial, data=VL_Bihar)
exp(coef(ML5))
exp(confint(ML5))
#| echo: fenced
ML6 <- glm(factor(case) ~ factor(bednet) + factor(banana_tree), family=binomial, data=VL_Bihar)
exp(coef(ML6))
exp(confint(ML6))
#| echo: fenced
ML7 <- glm(factor(case) ~ factor(bednet) + factor(rice_field), family=binomial, data=VL_Bihar)
exp(coef(ML7))
exp(confint(ML7))
#| echo: fenced
ML8 <- glm(factor(case) ~ factor(bednet) + factor(permanent_water_body), family=binomial, data=VL_Bihar)
exp(coef(ML8))
exp(confint(ML8))
#| echo: fenced
ML9 <- glm(factor(case) ~ factor(bednet) + factor(granaries_in_hh), family=binomial, data=VL_Bihar)
exp(coef(ML9))
exp(confint(ML9))
#| echo: fenced
ML10 <- glm(factor(case) ~ factor(bednet) + factor(owngoat), family=binomial, data=VL_Bihar)
exp(coef(ML10))
exp(confint(ML10))
#| echo: fenced
ML11 <- glm(factor(case) ~ factor(bednet) + factor(ownpoul), family=binomial, data=VL_Bihar)
exp(coef(ML11))
exp(confint(ML11))
#| echo: fenced
ML12 <- glm(factor(case) ~ factor(bednet) + factor(ownbov), family=binomial, data=VL_Bihar)
exp(coef(ML12))
exp(confint(ML12))
#| echo: fenced
ML13 <- glm(factor(case) ~ factor(bednet) + factor(asset_index), family=binomial, data=VL_Bihar)
summary(ML13)
exp(coef(ML13))
exp(confint(ML13))
#| echo: fenced
ML14 <- glm(factor(case) ~ factor(bednet) + factor(riskwall), family=binomial, data=VL_Bihar)
exp(coef(ML14))
exp(confint(ML14))
#| echo: fenced
ML15 <- glm(factor(case) ~ factor(bednet) + factor(earthfloor), family=binomial, data=VL_Bihar)
exp(coef(ML15))
exp(confint(ML15))
#| echo: fenced
ML16 <- glm(factor(case) ~ factor(bednet) + factor(sc_caste), family=binomial, data=VL_Bihar)
exp(coef(ML16))
exp(confint(ML16))
ML17 <- glm(factor(case) ~ factor(bednet) + factor(asset_index) + factor(riskwall) + factor(earthfloor) , family=binomial, data=VL_Bihar)
#| echo: fenced
ML18 <- glm(factor(case) ~ factor(bednet) + factor(asset_index) + factor(riskwall) , family=binomial, data=VL_Bihar)
summary(ML18)
exp(coef(ML18))
exp(confint(ML18))
anova(ML17, ML18, test="Chisq")
ML19 <- glm(factor(case) ~ factor(bednet) + factor(asset_index) , family=binomial, data=VL_Bihar)
anova(ML18, ML19, test="Chisq")
ML20 <- glm(factor(case) ~ factor(bednet) , family=binomial, data=VL_Bihar)
anova(ML19, ML20, test="Chisq")
poisson_smoking_mort <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Logistic Regresion Exercise Database/Datasets/poisson_smoking_mort.csv", sep=",")
GLM.1 <- glm(deaths offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
str(poisson_smoking_mort)
table1 <- aggregate(cbind(deaths, pop) ~ smoke, data=poisson_smoking_mort, FUN=sum)
table1
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
poisson_smoking_mort <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Logistic Regresion Exercise Database/Datasets/poisson_smoking_mort.csv", sep=",")
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
table(poisson_smoking_mort$smoke)
poisson_smoking_mort <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Logistic Regresion Exercise Database/Datasets/poisson_smoking_mort.csv", sep=",")
table(poisson_smoking_mort$smoke)
str(poisson_smoking_mort)
table1 <- aggregate(cbind(deaths, pop) ~ smoke, data=poisson_smoking_mort, FUN=sum)
table1
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=table1)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
table(poisson_smoking_mort$smoke)
View(poisson_smoking_mort)
GLM.2 <- glm(deaths ~  offset(log(pop)) + smoke + factor(age), family=poisson(log), data=poisson_smoking_mort)
summary(GLM.2)
exp(coef(GLM.2))
exp(confint(GLM.2))
poisson_smoking_mort <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Logistic Regresion Exercise Database/Datasets/poisson_smoking_mort.csv", sep=",")
str(poisson_smoking_mort)
poisson_smoking_mort$smoke <-   factor(poisson_smoking_mort$smoke)
View(poisson_smoking_mort)
GLM.1 <- glm(deaths ~  offset(log(pop)) + smoke, family=poisson(log), data=poisson_smoking_mort)
summary(GLM.1)
exp(coef(GLM.1))
exp(confint(GLM.1))
GLM.2 <- glm(deaths ~  offset(log(pop)) + smoke + factor(age), family=poisson(log), data=poisson_smoking_mort)
summary(GLM.2)
exp(coef(GLM.2))
exp(confint(GLM.2))
anova(GLM.1, GLM.2, test="Chisq"))
anova(GLM.1, GLM.2, test="Chisq")
sum(residuals(GLM.2, type=”pearson”)^2/GLM.2$df.residual)
resid2 <- sum(residuals(GLM.2, type=”pearson”)^2/GLM.2$df.residual)
dispp <- sum(residuals(GLM.2, type=”pearson”)^2)/GLM.2$df.residual
dispp <- sum(residuals(GLM.2, type= ”pearson” )^2)/GLM.2$df.residual
dispp <- sum(residuals(GLM.2, type= ”pearson”)^2)/GLM.2$df.residual
GLM.2 <- glm(deaths ~  offset(log(pop)) + smoke + factor(age), family=poisson(log), data=poisson_smoking_mort)
summary(GLM.2)
exp(coef(GLM.2))
exp(confint(GLM.2))
dispp <- sum(residuals(GLM.2, type= ”pearson”)^2)/GLM.2$df.residual
dispp <- sum(residuals(GLM.2, type= ”pearson”)^2)/GLM.2$df.residual
dispp <- sum(residuals(GLM.2, type="pearson")^2)/GLM.2$df.residual
dispp <- sum(residuals(GLM.2, type="pearson")^2)/GLM.2$df.residual
dispp
leprosy_comoros <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Poisson Regresion Exercise Database/Datasets/leprosy_comoros.csv", sep=",")
leprosy_comoros <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Poisson Regresion Exercise Database/Datasets/leprosy_comoros.csv", sep=",")
leprosy_comoros <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Poisson Regresion Exercise Database/Datasets/leprosy_comoros.csv", sep=",")
leprosy_comoros <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Poisson Regression Exercise Database/Datasets/leprosy_comoros.csv", sep=",")
### Starting the Exercise
poisson_smoking_mort <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Logistic Regresion Exercise Database/Datasets/poisson_smoking_mort.csv", sep=",")
View(poisson_smoking_mort)
table1 <- aggregate(cbind(deaths, pop) ~ smoke, data=poisson_smoking_mort, FUN=sum)
table1
View(table1)
View(leprosy_comoros)
table1 <- aggregate(cbind(inc_case, pop) ~ PEP_19, data=leprosy_comoros, FUN=sum)
table1
#| echo: fenced
leprosy_comoros$const <- 1
table1 <- aggregate(cbind(inc_case, pop) ~ const, data=leprosy_comoros, FUN=sum)
table1
219/84715
0.002585138*1000
leprosy_comoros
#| output: false
library(EpiStats)
cc(leprosy_comoros,inc_case,PEP_19)
cc(leprosy_comoros, inc_case, PEP_19)
cc(leprosy_comoros, factor(inc_case), factor(PEP_19))
cc(leprosy_comoros, "inc_case", "PEP_19")
cc(leprosy_comoros, "inc_case", "PEP_19",exact=FALSE)
cc(leprosy_comoros, inc_case, PEP_19, title = cc)
cc(leprosy_comoros, inc_case, PEP_19, full = FALSE)
cc(leprosy_comoros, inc_case, PEP_19, exact=FALSE, full = FALSE)
cc(leprosy_comoros, inc_case, PEP_19, exact=FALSE, full = FALSE)
cc(leprosy_comoros, inc_case, PEP_19, exact=FALSE, full = FALSE)
CC(leprosy_comoros, inc_case, PEP_19)
View(leprosy_comoros)
CS(leprosy_comoros, inc_case, PEP_19)
CC(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19)
CC(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19)
CC(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19)
CC(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19)
GLM1 <- glm(inc_case ~  offset(log(pop)) + dist_cat , family=poisson(log), data=leprosy_comoros)
summary(GLM1)
M1 <- glm(inc_case ~  offset(log(pop)) , family=poisson(log), data=leprosy_comoros)
summary(GLM1)
GLM1 <- glm(inc_case ~  offset(log(pop)) + PEP_19 , family=poisson(log), data=leprosy_comoros)
summary(GLM1)
exp(coef(GLM1))
View(leprosy_comoros)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19,)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19,)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19,,)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19,,,)
CS(leprosy_comoros, leprosy_comoros$inc_case, leprosy_comoros$PEP_19,,,)
CS(leprosy_comoros, "inc_case", "PEP_19")
CS(leprosy_comoros, "inc_case", "PEP_19",)
CS(leprosy_comoros, "inc_case", "PEP_19",)
CS(leprosy_comoros, "inc_case", "PEP_19",,)
CS(leprosy_comoros, "inc_case", "PEP_19",,)
CS(leprosy_comoros, "inc_case", "PEP_19",,)
CS(leprosy_comoros, "inc_case", "PEP_19",,,)
CS(leprosy_comoros, "inc_case", "PEP_19",,,)
CC(leprosy_comoros, "inc_case", "PEP_19")
CC(leprosy_comoros, "dist_cat", "PEP_19")
leprosy_comoros$prueb <- ifelse(data$PEP_19 ==0, 1, 0)
leprosy_comoros$prueb <- ifelse(data$PEP_19 =0, 1, 0)
leprosy_comoros$prueb <- ifelse(data$PEP_19=0, 1, 0)
leprosy_comoros$prueb <- ifelse(leprosy_comoros$PEP_19 ==0, 1, 0)
CC(leprosy_comoros, "prueb", "PEP_19")
#| echo: fenced
GLM1 <- glm(inc_case ~  offset(log(pop)) , family=poisson(log), data=leprosy_comoros)
summary(GLM1)
exp(coef(GLM1))
exp(confint(GLM1))
exp(coef(GLM1))
exp(confint(GLM1))
#| echo: fenced
GLM1 <- glm(inc_case ~  offset(log(pop)) , family=poisson(log), data=leprosy_comoros)
summary(GLM1)
exp(coef(GLM1))
exp(confint(GLM1))
GLM2 <- glm(inc_case ~  offset(log(pop)) + PEP_19 , family=poisson(log), data=leprosy_comoros)
summary(GLM2)
exp(coef(GLM2))
exp(confint(GLM2))
GLM3 <- glm(inc_case ~  offset(log(pop)) + factor(dist_cat) , family=poisson(log), data=leprosy_comoros)
summary(GLM3)
exp(coef(GLM3))
exp(confint(GLM3))
table2 <- aggregate(cbind(inc_case, pop) ~ dist_cat, data=leprosy_comoros, FUN=sum)
table2
GLM4 <- glm(inc_case ~  offset(log(pop)) + PEP_19 + factor(dist_cat) , family=poisson(log), data=leprosy_comoros)
summary(GLM4)
exp(coef(GLM4))
exp(confint(GLM4))
anova(GLM3, GLM4, test="Chisq")
anova(GLM3, GLM2, test="Chisq")
anova(GLM4, GLM2, test="Chisq")
dispp <- sum(residuals(GLM4, type="pearson")^2)/GLM4$df.residual
dispp
library(MAAS)
library(MAAS)
install.packages(MAAS)
install.packages(MAAS)
install.packages(maas)
install.packages("MAAS")
library(MAAS)
library(MAAS)
library(MASS, lib.loc = "C:/Program Files/R/R-4.2.1/library")
GLM.NM1 <- glm.nb(inc_case ~  offset(log(pop)) + PEP_19 + factor(dist_cat), data=leprosy_comoros)
exp(coef(GLM.NM1))
exp(confint(GLM.NM1))
library(MAAS)
install.packages("MASS")
library(MASS)
GLM.NM1 <- glm.nb(inc_case ~  offset(log(pop)) + PEP_19 + factor(dist_cat), data=leprosy_comoros)
exp(coef(GLM.NM1))
exp(confint(GLM.NM1))
#| echo: fenced
# Code for poisson regression (bivariate analysis)
GLM3 <- glm(inc_case ~  offset(log(pop)) + factor(dist_cat) , family=poisson(log), data=leprosy_comoros)
summary(GLM3)
exp(coef(GLM3))
exp(confint(GLM3))
#| label: fig-plots
#| fig-cap: "ddPlots"
#| fig-cap-location: top
#Code in R:
# Make a scatterplot
plot(evans$mod_fitted, evans$mod_resid, main="Scatterplot")
Q1_B <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B.csv", sep=",", dec= ".")
summary(Q1_B$FSN)
summary(Q1_B$FSN)
str(Q1_B)
str(top)
top <- subset(Q1_B, subset= FSN < 52032)
bottom <- subset(Q1_B, subset= FSN >= 52032)
str(Q1_B)
str(top)
str(bottom)
6688 + 6689
merged_top_bottom  <-  rbind(top,bottom)
str(merged_top_bottom)
head(Q1_B,0)  #0 for only the headers
names(Q1_B)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
str(left)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
str(Left)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree" - "Other_Floor_Mat"))
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree"-"Other_Floor_Mat"))
Rigth <- subset(Q1_B, select=c("FSN", "Is_Floor_Damp", "Roof_Material", "Other_Roof_Material", "Wall_Material", "Other_Wall_Material", "Windows_in_Room", "Granaries_in_HH", "Source_Drink_Water", "Other_Src_Drink_Wat", "Toilet_Facility", "Other_Toilet_Fac", "Cooking_Fuel", "Other_Cooking_Fuel", "Source_Light", "Other_Source_Light", "Electricity_in_HH", "No_Of_Rooms", "No_Sleeping_Rooms"))
str(Rigth)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat"))
str(Left)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material", "Other_Floor_Mat", "Is_Floor_Damp"))
str(Left)
Left <- subset(Q1_B, select=c("FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material"))
str(Left)
Rigth <- subset(Q1_B, select=c("FSN", "Other_Floor_Mat", "Is_Floor_Damp", "Roof_Material", "Other_Roof_Material", "Wall_Material", "Other_Wall_Material", "Windows_in_Room", "Granaries_in_HH", "Source_Drink_Water", "Other_Src_Drink_Wat", "Toilet_Facility", "Other_Toilet_Fac", "Cooking_Fuel", "Other_Cooking_Fuel", "Source_Light", "Other_Source_Light", "Electricity_in_HH", "No_Of_Rooms", "No_Sleeping_Rooms"))
str(Rigth)
merged_left_right  <-  merge(Left, Right, all=TRUE, by = "FSN")
merged_left_right  <-  merge(Left, Rigth, all=TRUE, by = "FSN")
merged_left_right  <-  merge(Left, Rigth, all=TRUE, by = "FSN")
str(merged_left_right)
str(Q1_B)
str(top)
str(bottom)
Left <- subset(Q1_B, select=c("ID", "FSN", "Neem_Tree", "Neem_Tree_Distance", "Neem_Tree_Size", "Neem_Tree_Age", "Neem_Tree_Usage", "Neem_Tree_Use_Other", "Bamboo_Tree", "Bamboo_Tree_Dist", "Banana_Tree", "Banana_Tree_Dist", "Rice_Field", "Rice_Field_Dist", "Perm_Water_Body", "Perm_Wat_Body_Dist",  "Wat_Body_Mid_Point", "No_Mosquito_Net", "Sprayed_2010", "Sprayed_2009", "Floor_Material"))
str(Left)
merged_left_right  <-  merge(Left, Rigth, all=TRUE, by = "FSN")
str(merged_left_right)
Q1_B_1 <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B_1.csv", sep=",", dec= ".")
str(Q1_B_1)
head(Q1_B_1)
names(Q1_B_1)[c(2,3,4,5,6)] <- c("anim", "count", "dist", "indor", "daysin")
names(Q1_B_1)[c(2,3,4,5,6)] <- c("anim", "count", "dist", "indor", "daysin")
str(Q1_B_1)
Q1_B_1$anim[Q1_B_1$anim =="Buffaloes"] <- "Buff"
Q1_B_1$anim[Q1_B_1$anim =="Goats"] <- "Goat"
str(Q1_B_1)
Q1_B_1$anim <- substr(Q1_B_1$anim, 0, 4)
str(Q1_B_1)
table(Q1_B_1$anim)
table(Q1_B_1$anim)
Q1_B_1$anim[Q1_B_1$anim =="Buffaloes"] <- "Buff"
Q1_B_1$anim[Q1_B_1$anim =="Goats"] <- "Goat"
#But if we want to keep the 4 (x) first characters in a all rows
Q1_B_1$anim <- substr(Q1_B_1$anim, 0, 3)
table(Q1_B_1$anim)
Q1_B_1 <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B_1.csv", sep=",", dec= ".")
names(Q1_B_1)[c(2,3,4,5,6)] <- c("anim", "count", "dist", "indor", "daysin")
str(Q1_B_1)
table(Q1_B_1$anim)
table(Q1_B_1$anim)
Q1_B_1$anim[Q1_B_1$anim =="Buffaloes"] <- "Buff"
Q1_B_1$anim[Q1_B_1$anim =="Goats"] <- "Goat"
#But if we want to keep the 4 (x) first characters in a all rows
Q1_B_1$anim <- substr(Q1_B_1$anim, 0, 3)
table(Q1_B_1$anim)
Q1_B_1 <- read.csv("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B_1.csv", sep=",", dec= ".")
names(Q1_B_1)[c(2,3,4,5,6)] <- c("anim", "count", "dist", "indor", "daysin")
str(Q1_B_1)
table(Q1_B_1$anim)
Q1_B_1$anim[Q1_B_1$anim =="Buffaloes"] <- "Buff"
Q1_B_1$anim[Q1_B_1$anim =="Goats"] <- "Goat"
#But if we want to keep the 4 (x) first characters in a all rows
Q1_B_1$anim <- substr(Q1_B_1$anim, 0, 4)
table(Q1_B_1$anim)
str(Q1_B_1)
Q1_B_1
table(Q1_B_1$anim)
str(Q1_B_1)
Newtable <- reshape(Q1_B_1,direction = "wide", timevar ="anim", idvar ="FSN", v.names = c("count","dist","indor", "daysin"), sep = "_")
Q1_B_1
Newtable
str(Newtable)
names(Newtable)
daysin_trunk <- ls(pattern="daysin.*")
daysin_trunk
names(Newtable)
library(dplyr)
names(Newtable)
select(Q1_B_1, starts_with("daysin"))
setwd("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk")
setwd("C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Rstudio_Exercises_q")
