{
  "hash": "aaedd1dee3f468a2afbd8282f0795ff3",
  "result": {
    "markdown": "---\ntitle: \"2023-01-31. Session 1\"\nformat: \n  html:\n    self-contained: true\n    code-line-numbers: true\ncustom_title_page: false\nfilters:\n  - lightbox\nlightbox: auto\n---\n\n---\nsubtitle: \"Linear Regression - Session 1\"\ndate: 2023-01-31\n\nauthor:\n  - name: Javier Silva-Valencia\n    orcid: 0000-0002-5982-2821\n    email: javier.silva@unmsm.edu.pe\n    affiliations:\n      - name: Instituut Voor Tropische Geneeskunde. Antwerp-Belgium\n\nlanguage: \n  title-block-author-single: \"Writer\"\n  \nabstract: The exercise begins by asking you to create a scatterplot to see the relation between two variables. Then to create a bivariate linear regresion.\n---\n\n\n---\n\n---\n\n\n### Starting the Exercise\n\nInstructions: \n\nAn ecological study has looked into the relationship between the incidence of low birth weight (\"low birth weight per 100 births\") and perinatal mortality (\"perinatal mortality per 100 births\") in health districts of a certain region.\n\n\n#### Importing data\n\nImporting a CSV database under the name of lbwpmor, with \",\" as separator, and with \".\" as decimal:\n\n\n::: {.cell hash='2023-01-31-Linear-Regresion-1_cache/html/unnamed-chunk-1_c04a0a6e3847a52dc5f5e738c0d68732'}\n\n```{.r .cell-code .numberLines}\nlbwpmor <- read.csv(\"C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2/Linear Regresion Exercise Database/Datasets/lbwpmor.csv\", sep=\",\", dec= \".\")\n```\n:::\n\n\nWe assume that all variables ok to start (we dont need to transform or create variables)\n\n\n#### Step 1\nFinding if there is a Correlation between inclbw and permor (This is to assume linearity, there are other ways buy we will start this exercise doing this)\n\n\n::: {.cell hash='2023-01-31-Linear-Regresion-1_cache/html/unnamed-chunk-2_77800d1c8a8ce25429bf6534f5c2da4e'}\n\n```{.r .cell-code .numberLines}\n#Code in for a correlation test:\n  cor(lbwpmor$inclbw, lbwpmor$permor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.6861169\n```\n:::\n:::\n\n\n::: callout-tip\nAs a result: we have an r of 0.68. It is a moderate strong positive correlation\n:::\n\n------------------------------------------------------------------------\n\n#### Step 2\nDoing the Scatterplot\n\n\n::: {.cell hash='2023-01-31-Linear-Regresion-1_cache/html/unnamed-chunk-3_51f035ffcfeecd5a3bf8aecb5295ae63'}\n\n````{.cell-code .numberLines}\n```{{r}}\n#Code in R:          \n  # Make a scatterplot\n  plot(lbwpmor$inclbw, lbwpmor$permor, main=\"Title\")\n  # add a regression line\n  abline(lm(permor~inclbw, data = lbwpmor), col = \"blue\")\n```\n````\n\n::: {.cell-output-display}\n![](2023-01-31-Linear-Regresion-1_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n::: callout-tip\nAs a result: we can see in the graph the linear positive correlation\n:::\n\n\n#### Step 3\n\nDoing the Linear regresion for only inclbw and permor (bivariate)\n\n\n::: {.cell hash='2023-01-31-Linear-Regresion-1_cache/html/unnamed-chunk-4_547580e533525250759e87125df2c23f'}\n\n````{.cell-code .numberLines}\n```{{r}}\n#Code in R:\nlmHeight = lm(permor ~ inclbw, data = lbwpmor)\nsummary(lmHeight)\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = permor ~ inclbw, data = lbwpmor)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.30030 -0.17013 -0.03691  0.21897  0.34469 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  0.42139    0.31880   1.322 0.202786    \ninclbw       0.14676    0.03668   4.001 0.000837 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.218 on 18 degrees of freedom\nMultiple R-squared:  0.4708,\tAdjusted R-squared:  0.4414 \nF-statistic: 16.01 on 1 and 18 DF,  p-value: 0.0008373\n```\n:::\n:::\n\n\n::: callout-tip\n-A. As a result: we can recreate the formula with the data we obtained\n\n    * y = a+b(x)\n    * a= 0.42139\n    * b = 0.14677\n    So, the formula would be:\n    * Y= 0.42 +0.147(X)\n      \n\n-B. We also find the R2\n\n    * R2 is the \"Determination coefficient\". \n    * R2 =  0.4708\n    Interpretation: \n    \"47% of the variability of the mortality could be explained by the model\"\n        \n\n-C. We also find the p value = 0.000837\n\n    Interpretation:\n    *P value in this case says that there is a statisticas association between mortality\n    and low birth weight (that is the same that says that \"the slope of the regresion line \n    is significanly different from zero)\n        \n\n-D. As another result we have the \"correlation coefficient\"\n\n    Remember that we calculate the correlation coefficiente before in part 1 (\"1. Finding\n    Correlation\"). But we can also calculate here because: \n          Correlation coefficient = Square root of R2\n    So:\n          Correlation coefficient (r) = Sqrt(0.4708)\n          Correlation coefficient (r) = 0.6861\n    Interpretation: \n        \"The value of 0.68 suggest a strong positive association\"\n:::\n\n#### Step 4\nPredict \"y\" when X is \"8\"\n\nBefore we have already calculated the formula: \"Y= 0.42 +0.147(X)\" So we just need to replace the \"X\"\n\n\n::: {.cell hash='2023-01-31-Linear-Regresion-1_cache/html/unnamed-chunk-5_dcde7c5860ca4826eca4536f5b4afade'}\n\n```{.r .cell-code .numberLines}\n#Calculate:\n0.42 +(0.147*8)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.596\n```\n:::\n:::\n\n\n::: callout-tip\nSo, using the Linear regression formula above we can say that\n\n    When \"low birth weight\" is 8 \n    the \"perinatal mortality\" may be 1.596\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}